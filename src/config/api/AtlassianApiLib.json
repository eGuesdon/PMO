{
  "$schema": "../schemas/apiLib.schema.json",
  "entries": [
    {
      "vendor": "Atlassian",
      "product": "jira",
      "offer": "cloud",
      "baseURL": "${JIRA_BASE_URL}",
      "apiAccess": {
        "userEnv": "JIRA_LOGIN",
        "tokenEnv": "JIRA_TOKEN"
      },
      "pagination": {
        "cursor": {
          "initialToken": null,
          "nextTokenField": "nextPageToken",
          "pageSizeField": "maxResults",
          "defaultPageSize": 50
        }
      },
      "timeoutMs": 30000,
      "retryPolicy": {
        "retries": 3,
        "factor": 2,
        "minTimeoutMs": 1000
      },
      "endpoints": [
        {
          "name": "getIssues",
          "operationId": "search",
          "enabled": true,
          "path": "/rest/api/3/search/jql",
          "method": "GET",
          "headers": {
            "Accept": "application/json",
            "Authorization": "Bearer ${JIRA_TOKEN}"
          }
        },
        {
          "name": "countIssues",
          "operationId": "count",
          "enabled": true,
          "path": "/rest/api/3/search/count",
          "method": "POST",
          "headers": {
            "Accept": "application/json",
            "Content-Type": "application/json",
            "Authorization": "Bearer ${JIRA_TOKEN}"
          }
        }
      ]
    },
    {
      "vendor": "Atlassian",
      "product": "confluence",
      "offer": "cloud",
      "baseURL": "${CONFLUENCE_BASE_URL}",
      "apiAccess": {
        "userEnv": "CONFLUENCE_LOGIN",
        "tokenEnv": "CONFLUENCE_TOKEN"
      },
      "pagination": {
        "cursor": {
          "initialToken": null,
          "nextTokenField": "nextPageToken",
          "pageSizeField": "maxResults",
          "defaultPageSize": 50
        }
      },
      "timeoutMs": 30000,
      "retryPolicy": {
        "retries": 3,
        "factor": 2,
        "minTimeoutMs": 1000
      },
      "endpoints": []
    }
  ]
}
